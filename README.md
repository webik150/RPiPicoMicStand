# RaPiPiMiSt
-# Raspberry Pi Pico Microphone Stand

This project aims to create a motorized microphone stand using old NEMA-17 stepper motors from Prusa MK3, controllable through a LAN web server hosted on a RPi Pico W using MicroPython.

The software part operates in two modes:

- **Pairing Mode**: When no Wi-Fi credentials are available at startup, or wi-fi connection is unsuccessful, the device creates a Wi-Fi Access Point (AP) and serves as a captive portal to allow users to configure the Wi-Fi settings. It is also possible to control the stand in this way in case you need to record in the field without any wifi for whatever reason.
- **Work Mode**: Once Wi-Fi credentials are saved, the device connects to the saved network and serves a control website on the local network.

## Features
- Movement on X and Y axes (Forward/Back and Left/Right)
- Mic rotation on one axis
- Optional 8SEG display for debugging, info, stuff.
- Powered by 12V, idk how many A will be needed yet.
- I'll try to make as much of the actual structure 3D printable
- The software side is just a HTML page that sends commands through AJAX rn.

## Requirements

- **Hardware**:
  - PCB
    - TODO: List of components
  - \*RPi Pico 8SEG display
  - Stand itself
    - No idea yet.

- **Software**:
  - MicroPython installed on the Pico W
  - MicroPython modules:
    - `network` for Wi-Fi functionality
    - `socket` for HTTP server implementation
    - `ujson` for saving/loading Wi-Fi credentials

## Installation & Setup
idk if this is correct, ChatGPT came up with these instructions and I haven't had time to check them yet lol.

1. **Flash MicroPython on Raspberry Pi Pico W**:
    - Download the MicroPython firmware for Pico W from [here](https://micropython.org/download/rp2-pico-w/).
    - Flash the firmware to your Pico W using the Thonny IDE or another method.

2. **Clone the Repository**:
    ```bash
    git clone https://github.com/yourusername/rpi-pico-w-lan-server.git
    cd rpi-pico-w-lan-server
    ```

3. **Upload Files to Pico W**:
    - Use Thonny or another IDE to upload the required Python files to your Pico W. The key files include:
        - `main.py`: The main logic for the pairing mode, Wi-Fi connection, and work mode.
        - `wifi_config.json`: (Optional) Pre-existing Wi-Fi credentials file. This will be automatically generated by the device when the user sets up Wi-Fi through the captive portal.

4. **Modify the Configuration**:
    - If you want to set a custom SSID and password for the access point, edit the following lines in `main.py`:
      ```python
      ap.config(essid='RPi_Pico_Setup', password='12345678')
      ```

5. **Running the Project**:
    - Plug in the Raspberry Pi Pico W, and the script will automatically run.
    - If the device is unable to connect to a Wi-Fi network, it will enter **Pairing Mode**, where you can connect to the access point `RPi_Pico_Setup` and configure the network settings.
    - Once the Wi-Fi credentials are applied, the Pico W will switch to **Work Mode** and serve the control webpage on the local network.

## Usage

### Pairing

1. Connect to the Wi-Fi access point `RPiMicStand` with the password `12345678`.
2. Your device (phone or computer) should automatically open a captive portal page.
3. Select a network from the dropdown and enter the Wi-Fi password.
4. Press "Apply" to save the credentials and switch to work mode.

### Work Mode

1. The Pico W connects to the saved Wi-Fi network and launches a web server on port `80`.
2. Access the control page by navigating to the Pico's IP address in a web browser (use `wlan.ifconfig()` to find the IP).
3. Use the sliders, buttons, and other controls on the page to interact with the Pico's GPIO pins or perform other tasks.

## Pics

**Control website**:

![Captive Portal](./images/website.jpg)


**PCB**:

![PCB](./images/pcb.jpg)


**Stand**:

![Captive Portal](./images/stand.jpg)


## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

